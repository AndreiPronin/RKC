@model IEnumerable<DB.Model.Court.CourtWorkRequisites>
@using BE.Roles
@if (Model.Count() > 0)
{
<table class="table">
    <thead>
        <tr>
            <th scope="col">№ п/п</th>
            <th scope="col">Дата п/п</th>
            <th scope="col">Сумма п/п</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var Item in Model)
        {
            <tr>
                <th>@Item.Number</th>
                <td>@Item.Date.ToString("dd.MM.yyyy")</td>
                <td>@Item.Suma</td>
                @if (User.IsInRole(RolesEnums.CourtAdmin) || User.IsInRole(RolesEnums.SuperAdmin))
                {
                    <td><button type="button" name="@Item.Id" class="btn btn-danger removeCourtWorkRequisites">Удалить</button></td>
                }
            </tr>
        }
    </tbody>
</table>
}
<script>
    $(document).ready(function (e) {
        $(".removeCourtWorkRequisites").click(function () {
            var Id = $(this).attr("name");
            $.ajax({
                url: '/Court/RemoveCourtWorkRequisites?Id=' + Id,
                type: 'Post',
                contentType: 'application/json; charset=utf-8',
                success: function (data) {
                    UpdateCourtWordRequisites();
                },
                error: function () {
                    alert("Что то пошло не так. Обратитесь к администратору");
                    UpdateCourtWordRequisites
                }
            });
        })
    });
</script>
